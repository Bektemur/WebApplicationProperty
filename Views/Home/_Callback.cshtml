@model WebApplicationProperty.ViewModel.CallbackViewModel

<div id="callbackContent">
    @if (Model != null && Model.Id > 0)
    {
        <p class="text-center bg-info" id="callbackMessageSent">
            Thank you. <br />
            Callback message #@Model.Id has been sent.
        </p>
    }
    else
    {
        <form id="callbackForm" method="post" class="mb-0" data-ajax="true" data-ajax-url="/Home/Callback"
              data-ajax-method="post" data-ajax-mode="replace" data-ajax-update="#callbackContent" data-ajax-loading="#spinner">
            <div asp-validation-summary="ModelOnly" class="text-danger"></div>
            <input type="hidden" asp-for="Id" />
            <input type="hidden" asp-for="PropertyId" />
            <div class="form-group">
                <input asp-for="Name" class="form-control" />
                <span asp-validation-for="Name" class="text-danger"></span>
            </div>
            <div class="form-group">
                <input asp-for="Phone" class="form-control" />
                <span asp-validation-for="Phone" class="text-danger"></span>
            </div>
            <div class="form-group">
                <input asp-for="Email" class="form-control" />
                <span asp-validation-for="Email" class="text-danger"></span>
            </div>
            <div class="form-group">
                <textarea asp-for="Message" class="form-control"></textarea>
                <span asp-validation-for="Message" class="text-danger"></span>
            </div>
            <div class="form-group">
                <input type="submit" value="Create" class="btn btn-success w-100" />
            </div>
        </form>
        <span id="spinner" style="display:none;"><i class="fas fa-spinner fa-spin"></i></span>
    }
</div>